# Тест-кейсы для проверки API микросервиса объявлений

В этом документе описаны сценарии тестирования для проверки работы REST API сервиса, обеспечивающего создание, получение, статистику и удаление объявлений.

---
**Исходные условия:**

- Сервис доступен по адресу: `https://qa-internship.avito.com/api/1/item`.
- Используется валидное значение sellerID (в диапазоне от 111111 до 999999).

**Пошаговый сценарий:**

1. Отправить POST-запрос с телом:
    ```json
    {
      "sellerID": 123456,
      "name": "Тестовое объявление",
      "price": 100,
      "statistics": {
        "contacts": 5,
        "likes": 3,
        "viewCount": 10
      }
    }
    ```
2. Проверить, что HTTP-статус ответа равен 200.
3. Убедиться, что в ответе присутствует либо поле `id`, либо поле `status` с сообщением (например, «Сохранили объявление - <UUID>»).

**Ожидаемый результат:**

- Код ответа: 200.
- Тело ответа содержит либо идентификатор объявления, либо сообщение о сохранении.

---
### 1.2. Создание объявления с некорректным значением sellerID

**Пошаговый сценарий:**

1. Отправить POST-запрос с данными:
    ```json
    {
      "sellerID": "abc123",
      "name": "Объявление с ошибкой",
      "price": 1000,
      "statistics": {
        "contacts": 5,
        "likes": 3,
        "viewCount": 10
      }
    }
    ```
2. Проверить, что сервер возвращает HTTP-код 400.
3. Убедиться, что ответ содержит поля `result` и `status` с описанием ошибки.

**Ожидаемый результат:**

- Код ответа: 400.
- Ответ содержит поля `result` и `status`.

---
### 1.3. Создание объявления с отсутствием обязательных параметров

**Пошаговый сценарий:**

1. Отправить POST-запрос, пропустив обязательные поля (например, `name` и `price`):
    ```json
    {
      "sellerID": 123456
    }
    ```
2. Убедиться, что сервер отвечает кодом 400.
3. Проверить наличие полей `result` и `status` в теле ответа.

**Ожидаемый результат:**

- Код ответа: 400.
- Тело ответа включает поля `result` и `status` с указанием недостающих параметров.

---
## 2. Получение объявления по ID (GET /api/1/item/:id)

### 2.1. Успешное получение объявления

**Исходные условия:**

- Объявление с указанным идентификатором уже создано (получено через POST-запрос).

**Пошаговый сценарий:**

1. Отправить GET-запрос на URL:  
   `https://qa-internship.avito.com/api/1/item/<id>`.
2. Убедиться, что HTTP-статус равен 200.
3. Проверить, что возвращаемый ответ – массив, в котором первый элемент содержит поля:
    - `id`
    - `sellerId`
    - `name`
    - `price`
    - `statistics` (объект с полями: `likes`, `viewCount`, `contacts`)
    - `createdAt`
4. Сравнить значение поля `id` с ожидаемым.

**Ожидаемый результат:**

- Код ответа: 200.
- Ответ – массив объектов, где первый элемент имеет указанные поля и корректный `id`.

---

### 2.2. Запрос несуществующего объявления

**Пошаговый сценарий:**

1. Использовать несуществующий идентификатор (например, `00000000-0000-0000-0000-000000000000`).
2. Отправить GET-запрос на URL:  
   `https://qa-internship.avito.com/api/1/item/<fake_id>`.
3. Проверить, что сервер возвращает статус 404.
4. Убедиться, что ответ содержит поля `result` и `status` с информацией об ошибке.

**Ожидаемый результат:**

- Код ответа: 404.
- Тело ответа содержит `result` и `status`.

---



 
